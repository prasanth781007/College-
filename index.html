<!DOCTYPE html>
<html lang="en" class="bg-gray-100 dark:bg-gray-900 transition-colors duration-500">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anna University Students Hub - Semester Resources</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for creativity */
        .hero-bg {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(16, 185, 129, 0.1));
            position: relative;
            overflow: hidden;
        }
        .hero-bg::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, rgba(59, 130, 246, 0.05), rgba(16, 185, 129, 0.05));
            animation: rotate 20s linear infinite;
        }
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        .fade-in {
            opacity: 0;
            animation: fadeIn 1s ease-out forwards;
        }
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        .quiz-option {
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .quiz-option:hover {
            background-color: #E3F2FD;
        }
        .quiz-option.selected {
            background-color: #2196F3;
            color: white;
        }
        .chapter-details summary {
            cursor: pointer;
            padding: 0.5rem 0;
            font-weight: bold;
            color: #3B82F6; /* Blue-600 */
        }
        .chapter-details summary:hover {
            color: #2563EB; /* Blue-700 */
        }
        .chapter-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        .chapter-item input[type="checkbox"] {
            margin-right: 0.5rem;
            width: 1.25rem;
            height: 1.25rem;
            accent-color: #10B981; /* Green-600 */
        }
        .progress-bar-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 1rem;
        }
        .progress-bar {
            height: 20px;
            background-color: #10B981; /* Green-600 */
            width: 0%;
            text-align: center;
            color: white;
            line-height: 20px;
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body class="text-gray-800 dark:text-gray-200">
    <!-- Header -->
    <header class="bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <!-- Small pic/icon, sized at 32x32px as specified -->
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/28c395fb-1aca-4bc4-9d92-b6fe56ad5035.png" alt="Stylized icon representing Anna University with a blue gradient sphere symbolizing education and academic achievement" class="w-8 h-8 rounded-full" />
                <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent">Anna Uni Hub</h1>
            </div>
            <nav class="hidden md:flex space-x-6 text-lg">
                <a href="#home" class="nav-link hover:text-blue-600 transition-colors">Home</a>
                <a href="#semesters" class="nav-link hover:text-blue-600 transition-colors">Semesters</a>
                <a href="#my-progress" class="nav-link hover:text-blue-600 transition-colors">My Progress</a>
                <a href="#quiz" class="nav-link hover:text-blue-600 transition-colors">Quiz</a>
                <a href="#resources" class="nav-link hover:text-blue-600 transition-colors">Resources</a>
                <a href="#about" class="nav-link hover:text-blue-600 transition-colors">About</a>
                <a href="#contact" class="nav-link hover:text-blue-600 transition-colors">Contact</a>
            </nav>
            <div class="flex items-center space-x-4">
                <button id="toggle-dark" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 transition-colors" title="Toggle Dark Mode">
                    <i class="fas fa-moon text-yellow-500 dark:hidden"></i>
                    <i class="fas fa-sun text-yellow-500 hidden dark:inline"></i>
                </button>
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="p-2">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-gray-800 p-4 space-y-2">
            <a href="#home" class="block hover:text-blue-600">Home</a>
            <a href="#semesters" class="block hover:text-blue-600">Semesters</a>
            <a href="#my-progress" class="block hover:text-blue-600">My Progress</a>
            <a href="#quiz" class="block hover:text-blue-600">Quiz</a>
            <a href="#resources" class="block hover:text-blue-600">Resources</a>
            <a href="#about" class="block hover:text-blue-600">About</a>
            <a href="#contact" class="block hover:text-blue-600">Contact</a>
        </div>
    </header>

    <!-- Home Section -->
    <section id="home" class="hero-bg min-h-screen flex items-center justify-center relative">
        <div class="container mx-auto px-4 py-16 text-center fade-in">
            <!-- Large image, sized for responsiveness -->
            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/fa1cbd9d-13b9-4899-90e1-40e18284eea5.png" alt="Vibrant landscape depicting students collaborating on projects in a modern university library with bookshelves, computers, and greenery, evoking creativity and learning" class="mb-8 rounded-lg shadow-lg mx-auto h-64 md:h-96 w-auto" />
            <h2 class="text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent">Unlock Your Academic Journey</h2>
            <p class="text-xl mb-8 max-w-2xl mx-auto">Discover semester-wise subjects from Anna University, complete with explanations, syllabi links, and study tips. Designed for creative learning!</p>
            <input type="text" id="search-bar" placeholder="Search subjects..." class="p-3 border rounded-lg w-full max-w-md mb-4 focus:outline-none focus:ring-2 focus:ring-blue-600" />
            <button onclick="scrollToSemesters()" class="bg-gradient-to-r from-blue-600 to-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-green-700 transition-all">Start Exploring</button>
            <div id="hero-ticker" class="mt-4 text-lg font-medium text-gray-600 dark:text-gray-400">-- Navigate semesters, download resources, ace exams! --</div>
        </div>
    </section>

    <!-- Semesters Section -->
    <section id="semesters" class="py-16 bg-gray-50 dark:bg-gray-800">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">Explore Your Semesters</h2>
            <div id="semester-buttons" class="flex flex-wrap justify-center gap-4 mb-8">
                <!-- Buttons generated by JS -->
            </div>
            <div id="subject-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Subjects loaded here by JS -->
            </div>
        </div>
    </section>

    <!-- My Progress Section -->
    <section id="my-progress" class="py-16 bg-white dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">My Academic Progress</h2>
            <div class="max-w-2xl mx-auto bg-gray-100 dark:bg-gray-700 p-6 rounded-lg shadow-md">
                <h3 class="text-2xl font-semibold mb-4">Semester Progress: <span id="current-semester-progress-display"></span></h3>
                <div class="progress-bar-container">
                    <div id="semester-progress-bar" class="progress-bar"></div>
                </div>
                <p class="text-center mt-2 text-gray-600 dark:text-gray-300">Mark chapters as complete in the "Semesters" section to track your progress.</p>
            </div>
        </div>
    </section>

    <!-- Quiz Section -->
    <section id="quiz" class="py-16 bg-gray-50 dark:bg-gray-800">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">Quick Quiz on First Semester</h2>
            <div id="quiz-content" class="max-w-2xl mx-auto bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md">
                <p id="question" class="text-xl mb-4"></p>
                <div id="options" class="space-y-2 mb-4"></div>
                <button id="next-btn" class="bg-blue-600 text-white px-6 py-2 rounded hidden">Next Question</button>
                <p id="quiz-score" class="mt-4 text-lg font-semibold"></p>
                <button id="restart-quiz" class="bg-green-600 text-white px-6 py-2 rounded mt-2 hidden">Restart Quiz</button>
            </div>
        </div>
    </section>

    <!-- Resources Section -->
    <section id="resources" class="py-16 bg-white dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">Additional Resources</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-gray-100 dark:bg-gray-700 p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold mb-4">Previous Year Papers</h3>
                    <p class="mb-4">Download question papers for better preparation.</p>
                    <button onclick="downloadResource('papers')" class="bg-blue-600 text-white px-4 py-2 rounded">Download</button>
                </div>
                <div class="bg-gray-100 dark:bg-gray-700 p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold mb-4">Study Notes</h3>
                    <p class="mb-4">Access curated notes and summaries.</p>
                    <button onclick="downloadResource('notes')" class="bg-blue-600 text-white px-4 py-2 rounded">Download</button>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 bg-gray-50 dark:bg-gray-800">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">About Anna Uni Hub</h2>
            <div class="flex flex-col lg:flex-row items-center max-w-4xl mx-auto">
                <!-- Medium image, sized for balance -->
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/5b37a0b5-36c4-48d9-ac85-23732c1bbc99.png" alt="Abstract illustration of a creative mind map with interconnected nodes representing subjects, ideas, and university elements in green and blue tones" class="mb-8 lg:mb-0 lg:mr-8 rounded-lg shadow-lg h-48 w-auto" />
                <p class="text-lg leading-relaxed">
                    Anna Uni Hub is your creative companion for Anna University students. We provide semester-wise subject breakdowns, detailed explanations, and valuable resources to enhance your learning experience. Built with passion for education, this platform aims to make academic navigation seamless and fun.
                </p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 bg-white dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">Get in Touch</h2>
            <form id="contact-form" class="max-w-md mx-auto bg-gray-100 dark:bg-gray-700 p-6 rounded-lg shadow-md">
                <input type="text" placeholder="Your Name" class="w-full p-3 mb-4 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600" required />
                <input type="email" placeholder="Your Email" class="w-full p-3 mb-4 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600" required />
                <textarea placeholder="Your Message" class="w-full p-3 mb-4 border rounded focus:outline-none focus:ring-2 focus:ring-blue-600" rows="4" required></textarea>
                <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-green-600 text-white py-3 rounded font-semibold hover:from-blue-700 hover:to-green-700 transition-all">Send Message</button>
            </form>
            <p id="form-message" class="mt-4 text-center"></p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 dark:bg-gray-900 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2023 Anna Uni Hub. Created with creativity for students.</p>
            <button id="feedback-btn" class="mt-4 bg-green-600 text-white px-4 py-2 rounded">Submit Feedback</button>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Dark mode toggle
        document.getElementById('toggle-dark').addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('dark-mode', document.documentElement.classList.contains('dark'));
        });
        if (localStorage.getItem('dark-mode') === 'true') {
            document.documentElement.classList.add('dark');
        }

        // Mobile menu toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', () => {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        function scrollToSemesters() {
            document.querySelector('#semesters').scrollIntoView({ behavior: 'smooth' });
        }

        // Sample data (simulated Anna University subjects with chapters)
        const semesters = {
            1: [
                { 
                    name: 'Applied Calculus', code: 'MA25C01', desc: 'To provide technical competence of modelling engineering problems using calculus. To apply the calculus concepts in solving engineering problems using analytical methods and computational tools.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Differential Calculus', completed: false },
                        { name: 'Functions of Several Variables', completed: false },
                        { name: 'Integral Calculus', completed: false },
                        { name: 'Multiple Integrals', completed: false }
                    ]
                },
                { 
                    name: 'English Essentials – I', code: 'EN25C01', desc: 'To equip students with the skills to write clear, coherent, and grammatically correct texts for various purposes. To strengthen the ability to comprehend, interpret, and analyse written English across diverse contexts.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Speaking Skills', completed: false },
                        { name: 'Listening Skills', completed: false },
                        { name: 'Reading Skills', completed: false },
                        { name: 'Drafting Skills', completed: false }
                    ]
                },
                { 
                    name: 'Heritage of Tamils', code: 'UC25H01', desc: 'Covers language, literature, heritage, folk and martial arts, Thinai concept, and contribution to Indian national movement and culture.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Language and Literature', completed: false },
                        { name: 'Heritage - Rock Art Paintings to Modern Art', completed: false },
                        { name: 'Folk and Martial Arts', completed: false },
                        { name: 'Thinai Concept of Tamils', completed: false },
                        { name: 'Contribution to Indian National Movement and Culture', completed: false }
                    ]
                },
                { 
                    name: 'Basic Electronics and Electrical Engineering', code: 'EE25C04', desc: 'Students will understand the fundamentals and evolution of electronics, electrical systems.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Basic Electronics', completed: false },
                        { name: 'Electrical Machines', completed: false },
                        { name: 'Measurements and Instrumentation', completed: false },
                        { name: 'Basics of Power Systems', completed: false },
                        { name: 'Sensors and Transducers', completed: false }
                    ]
                },
                { 
                    name: 'Applied Physics – I', code: 'PH25C01', desc: 'To impart knowledge and expose the essentials of physics in various engineering applications.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Properties of Matter', completed: false },
                        { name: 'Oscillations and Waves', completed: false },
                        { name: 'Quantum Mechanics', completed: false },
                        { name: 'Applied Optics', completed: false }
                    ]
                },
                { 
                    name: 'Applied Chemistry – I', code: 'CY25C01', desc: 'To provide students with a solid understanding of the chemical principles for engineering applications.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Water Technology', completed: false },
                        { name: 'Nano-chemistry', completed: false },
                        { name: 'Electrochemistry', completed: false },
                        { name: 'Corrosion & Control', completed: false },
                        { name: 'Batteries', completed: false }
                    ]
                },
                { 
                    name: 'Computer Programming: C', code: 'CS25C01', desc: 'To equip engineering students with the foundational knowledge and practical skills in ‘C’ programming to analyse and solve computational problems effectively.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Introduction to C', completed: false },
                        { name: 'Control Structures', completed: false },
                        { name: 'Functions', completed: false },
                        { name: 'Strings & Pointers', completed: false },
                        { name: 'Structures & Unions', completed: false },
                        { name: 'File Operations', completed: false },
                        { name: 'Standard Libraries & Header Files', completed: false }
                    ]
                },
                { 
                    name: 'Maker space', code: 'ME25C04', desc: 'To impart practical skills in the assembly, disassembly, and welding of components using appropriate tools and techniques.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Dis-assembly & Assembly Practices', completed: false },
                        { name: 'Welding Practices', completed: false },
                        { name: 'Electrical Wiring Practices', completed: false },
                        { name: 'Electronics Components / Equipment Practices', completed: false },
                        { name: 'Contemporary Systems', completed: false }
                    ]
                },
                { 
                    name: 'Life Skills for Engineers – I', code: 'UC25A01', desc: 'To equip engineering students with essential life skills encompassing personal and emotional development, effective management of time and stress, financial literacy, digital safety, and civic responsibility.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Personal and Emotional Development', completed: false },
                        { name: 'Management Skills', completed: false }
                    ]
                },
                { 
                    name: 'Physical Education – I', code: 'UC25A02', desc: 'To impart the fundamentals of physical education for development of students’ physical, mental, and social well-being.', link: 'https://www.annauniv.edu/syllabus.html',
                    chapters: [
                        { name: 'Introduction to physical education', completed: false },
                        { name: 'Participation of athletic events', completed: false },
                        { name: 'Skill development in outdoor games', completed: false },
                        { name: 'Skill development in indoor games', completed: false }
                    ]
                }
            ],
            2: [
                { name: 'Linear Algebra', code: 'MA25C02', desc: 'To impart foundational knowledge in linear algebra essential for analysing and solving problems in engineering applications.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Vector Spaces', completed: false}, {name: 'Linear Transformations', completed: false}] },
                { name: 'Tamils and Technology', code: 'UC25H02', desc: 'Covers weaving, ceramic, design, construction, manufacturing, agriculture, irrigation technology, scientific Tamil & Tamil computing.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Weaving and Ceramic Technology', completed: false}] },
                { name: 'English Essentials – II', code: 'EN25C02', desc: 'To integrate vocabulary and functional grammar into communication tasks to improve fluency and accuracy.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Communication', completed: false}] },
                { name: 'Electron Devices', code: 'EC25C01', desc: 'To acquaint with the construction, theory and operation of the basic electronic devices such as PN junction diode, Bipolar and Field Effect Transistors, Power control devices, LED, LCD and other Optoelectronic devices.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Semiconductor', completed: false}] },
                { name: 'Circuits and Network Analysis', code: 'EC25C02', desc: 'To impart the fundamental principles of circuit laws, network theorems, and analysis techniques for DC and AC circuits.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Circuit Laws and Network Theorems', completed: false}] },
                { name: 'Data Structures using C++', code: 'CS25C05', desc: 'This course aims to provide an understanding of object-oriented programming principles using C++.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Data Abstraction & Overloading', completed: false}] },
                { name: 'Re-Engineering for Innovation', code: 'ME25C05', desc: 'To cultivate foundational skills in prototyping, and automation for development of prototypes with real-world applications.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Introduction to Product Development', completed: false}] },
                { name: 'Life Skills for Engineers – II', code: 'UC25A03', desc: 'To impart and cultivate analytical reasoning, innovative thinking, effective collaboration, and ethical leadership to prepare students for complex challenges in professional and personal environments.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Critical Thinking', completed: false}] },
                { name: 'Physical Education – II', code: 'UC25A04', desc: 'To impart knowledge on gymnastic exercises and pressing needs for upskilling in a particular game.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Basic gymnastics exercises', completed: false}] },
                { name: 'Foreign Language', code: 'UC25F01', desc: 'To impart fundamentals of the chosen foreign language (Deutsch/Japanese/Korean), including reading, writing systems, pronunciation, and speaking.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Basics & Introduction', completed: false}] }
            ],
            3: [
                { name: 'Transforms and its Applications', code: 'BS301', desc: 'Covers various transforms and their engineering applications.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Fourier Transforms', completed: false}] },
                { name: 'Signals and Systems', code: 'ES302', desc: 'Analysis of continuous and discrete time signals and systems.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Signal Classification', completed: false}] },
                { name: 'Computer Architecture and Organization', code: 'ES303', desc: 'Study of computer hardware components and their organization.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'CPU Organization', completed: false}] },
                { name: 'Electronic Circuits and Analysis', code: 'ES304', desc: 'Design and analysis of electronic circuits using active and passive components.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Amplifiers', completed: false}] },
                { name: 'Digital System Design', code: 'ES305', desc: 'Principles of digital logic design and sequential circuits.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Combinational Logic', completed: false}] },
                { name: 'Problem solving using Python', code: 'ES306', desc: 'Introduction to problem-solving using Python programming language.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Python Basics', completed: false}] },
                { name: 'Skill Development Course - I', code: 'SD307', desc: 'Practical skill development relevant to engineering disciplines.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Project Management Basics', completed: false}] },
                { name: 'English Communication Skills Laboratory – II', code: 'HUM308', desc: 'Enhancing practical English communication skills through laboratory sessions.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Group Discussions', completed: false}] }
            ],
            4: [
                { name: 'Probability and Random Processes', code: 'BS401', desc: 'Covers probability theory and random processes with engineering applications.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Probability Axioms', completed: false}] },
                { name: 'Electro Magnetic Fields and Transmission Lines', code: 'ES402', desc: 'Study of electromagnetic fields and their application in transmission lines.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Maxwell\'s Equations', completed: false}] },
                { name: 'Introduction to Standards in Electronics and Communication', code: 'ES403', desc: 'Overview of various standards in electronics and communication engineering.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Communication Standards', completed: false}] },
                { name: 'Linear Integrated Circuits', code: 'ES404', desc: 'Design and applications of linear integrated circuits like Op-Amps.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Op-Amp Characteristics', completed: false}] },
                { name: 'Analog Communication', code: 'ES405', desc: 'Principles of analog modulation and demodulation techniques.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Amplitude Modulation', completed: false}] },
                { name: 'Digital Signal Processing', code: 'ES406', desc: 'Analysis and processing of digital signals.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Discrete Fourier Transform', completed: false}] },
                { name: 'Skill Development Course – II', code: 'SD407', desc: 'Further practical skill development.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Advanced Software Tools', completed: false}] },
                { name: 'English Communication Skills – III', code: 'HUM408', desc: 'Advanced English communication skills for professional contexts.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Technical Presentations', completed: false}] }
            ],
            5: [
                { name: 'Control Systems', code: 'ES501', desc: 'Analysis and design of feedback control systems.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'System Modeling', completed: false}] },
                { name: 'Programme Elective – I', code: 'PE502', desc: 'First elective course in the chosen specialization.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Elective Topic 1', completed: false}] },
                { name: 'Data Communication Networks', code: 'ES503', desc: 'Principles of data communication and networking protocols.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Network Topologies', completed: false}] },
                { name: 'Digital Communication', code: 'ES504', desc: 'Techniques for digital modulation and demodulation.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'PCM', completed: false}] },
                { name: 'Microprocessor and Microcontroller', code: 'ES505', desc: 'Architecture and programming of microprocessors and microcontrollers.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: '8086 Architecture', completed: false}] },
                { name: 'Artificial Intelligence & Machine Learning', code: 'ES506', desc: 'Introduction to AI concepts and machine learning algorithms.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'AI Search Algorithms', completed: false}] },
                { name: 'Skill Development Course – III', code: 'SD507', desc: 'Advanced skill development for industry readiness.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Industry Case Studies', completed: false}] },
                { name: 'Industry Oriented Course - I', code: 'SD508', desc: 'Practical course focused on industry-specific skills.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Industrial Automation', completed: false}] }
            ],
            6: [
                { name: 'Programme Elective – II', code: 'PE601', desc: 'Second elective course in the chosen specialization.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Elective Topic 2', completed: false}] },
                { name: 'Programme Elective – III', code: 'PE602', desc: 'Third elective course in the chosen specialization.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Elective Topic 3', completed: false}] },
                { name: 'Open Elective', code: 'OE603', desc: 'Elective course from other departments.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Interdisciplinary Topic', completed: false}] },
                { name: 'Antenna Design', code: 'ES604', desc: 'Principles of antenna theory and design.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Antenna Parameters', completed: false}] },
                { name: 'CMOS VLSI Design', code: 'ES605', desc: 'Design of CMOS Very Large Scale Integration circuits.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'CMOS Inverter', completed: false}] },
                { name: 'Wireless Communication', code: 'ES606', desc: 'Fundamentals of wireless communication systems.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Wireless Channel Models', completed: false}] },
                { name: 'Industry Oriented Course - II', code: 'SD607', desc: 'Further industry-specific practical skills.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Advanced Industrial Practices', completed: false}] },
                { name: 'Self-Learning Course', code: 'SL608', desc: 'Independent study on a chosen topic.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Research Methodology', completed: false}] }
            ],
            7: [
                { name: 'Engineering Entrepreneurship Development', code: 'HUM701', desc: 'Principles of entrepreneurship and business development for engineers.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Business Plan Development', completed: false}] },
                { name: 'Climate Change and Sustainability', code: 'HUM702', desc: 'Understanding climate change and sustainable development practices.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Environmental Impact', completed: false}] },
                { name: 'RF and Microwave Engineering', code: 'ES703', desc: 'Design and analysis of RF and microwave circuits and systems.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Transmission Line Theory', completed: false}] },
                { name: 'Programme Elective – IV', code: 'PE704', desc: 'Fourth elective course.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Elective Topic 4', completed: false}] },
                { name: 'Programme Elective – V', code: 'PE705', desc: 'Fifth elective course.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Elective Topic 5', completed: false}] },
                { name: 'Project Management', code: 'HUM706', desc: 'Principles and practices of project management.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Project Planning', completed: false}] },
                { name: 'Millimeter wave and Optical Communication', code: 'ES707', desc: 'Study of millimeter wave and optical communication systems.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Fiber Optics', completed: false}] },
                { name: 'Embedded systems and Industrial IOT', code: 'ES708', desc: 'Design and application of embedded systems and Industrial IoT.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'IoT Architectures', completed: false}] },
                { name: 'Summer Internship', code: 'SD709', desc: 'Practical industry experience during summer break.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Internship Report', completed: false}] }
            ],
            8: [
                { name: 'Project Work / Internship cum Project Work', code: 'SD801', desc: 'Major project or internship with project component.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Project Execution', completed: false}] },
                { name: 'Honours Elective – V', code: 'HE802', desc: 'Advanced elective for Honours degree.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Honours Topic 1', completed: false}] },
                { name: 'Honours Elective – VI', code: 'HE803', desc: 'Another advanced elective for Honours degree.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Honours Topic 2', completed: false}] },
                { name: 'Minor Elective – V', code: 'ME804', desc: 'Elective for Minor degree.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Minor Topic 1', completed: false}] },
                { name: 'Minor Elective – VI', code: 'ME805', desc: 'Another elective for Minor degree.', link: 'https://www.annauniv.edu/syllabus.html', chapters: [{name: 'Minor Topic 2', completed: false}] }
            ]
        };

        let currentSemester = 1; // Track the currently displayed semester

        // Load progress from localStorage
        function loadProgress() {
            const savedProgress = localStorage.getItem('semesterProgress');
            if (savedProgress) {
                const progressData = JSON.parse(savedProgress);
                // Merge saved progress with current semester data
                for (const semKey in semesters) {
                    semesters[semKey].forEach(subject => {
                        if (subject.chapters) {
                            subject.chapters.forEach(chapter => {
                                if (progressData[semKey] && progressData[semKey][subject.code] && progressData[semKey][subject.code][chapter.name] !== undefined) {
                                    chapter.completed = progressData[semKey][subject.code][chapter.name];
                                }
                            });
                        }
                    });
                }
            }
        }

        // Save progress to localStorage
        function saveProgress() {
            const progressData = {};
            for (const semKey in semesters) {
                progressData[semKey] = {};
                semesters[semKey].forEach(subject => {
                    if (subject.chapters) {
                        progressData[semKey][subject.code] = {};
                        subject.chapters.forEach(chapter => {
                            progressData[semKey][subject.code][chapter.name] = chapter.completed;
                        });
                    }
                });
            }
            localStorage.setItem('semesterProgress', JSON.stringify(progressData));
            updateSemesterProgressBar(currentSemester); // Update progress bar after saving
        }

        // Update chapter completion status
        function toggleChapterCompletion(sem, subCode, chapterName, checkbox) {
            const semester = semesters[sem];
            const subject = semester.find(s => s.code === subCode);
            if (subject && subject.chapters) {
                const chapter = subject.chapters.find(c => c.name === chapterName);
                if (chapter) {
                    chapter.completed = checkbox.checked;
                    saveProgress();
                }
            }
        }

        // Update semester progress bar
        function updateSemesterProgressBar(sem) {
            const semester = semesters[sem];
            let totalChapters = 0;
            let completedChapters = 0;

            semester.forEach(subject => {
                if (subject.chapters) {
                    totalChapters += subject.chapters.length;
                    completedChapters += subject.chapters.filter(c => c.completed).length;
                }
            });

            const percentage = totalChapters > 0 ? (completedChapters / totalChapters) * 100 : 0;
            const progressBar = document.getElementById('semester-progress-bar');
            const progressDisplay = document.getElementById('current-semester-progress-display');

            progressBar.style.width = `${percentage}%`;
            progressBar.textContent = `${Math.round(percentage)}%`;
            progressDisplay.textContent = `Semester ${sem} (${Math.round(percentage)}% Complete)`;
        }


        // Populate semester buttons
        const buttonContainer = document.getElementById('semester-buttons');
        Object.keys(semesters).forEach(sem => {
            const btn = document.createElement('button');
            btn.textContent = `Semester ${sem}`;
            btn.className = 'bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors';
            btn.onclick = () => {
                currentSemester = parseInt(sem); // Update current semester
                showSubjects(currentSemester);
                updateSemesterProgressBar(currentSemester); // Update progress bar when semester changes
            };
            buttonContainer.appendChild(btn);
        });

        // Show subjects for a semester
        function showSubjects(sem) {
            const list = document.getElementById('subject-list');
            list.innerHTML = '';
            semesters[sem].forEach(sub => {
                const card = document.createElement('div');
                card.className = 'card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md';
                
                let chaptersHtml = '';
                if (sub.chapters && sub.chapters.length > 0) {
                    chaptersHtml = `
                        <details class="chapter-details mt-4">
                            <summary>Chapters</summary>
                            <div class="mt-2">
                                ${sub.chapters.map(chapter => `
                                    <div class="chapter-item">
                                        <input type="checkbox" id="chapter-${sem}-${sub.code}-${chapter.name.replace(/\s/g, '-')}" 
                                               ${chapter.completed ? 'checked' : ''} 
                                               onchange="toggleChapterCompletion(${sem}, '${sub.code}', '${chapter.name}', this)">
                                        <label for="chapter-${sem}-${sub.code}-${chapter.name.replace(/\s/g, '-')}" class="text-gray-700 dark:text-gray-300">${chapter.name}</label>
                                    </div>
                                `).join('')}
                            </div>
                        </details>
                    `;
                }

                card.innerHTML = `
                    <h3 class="text-xl font-bold mb-2">${sub.name} (${sub.code})</h3>
                    <p class="mb-4">${sub.desc}</p>
                    <a href="${sub.link}" target="_blank" class="text-blue-600 hover:underline"><a href="sem1.html"> View Syllabus</a></a>
                    ${chaptersHtml}
                `;
                list.appendChild(card);
            });
        }

        // Default to Semester 1 and load progress
        loadProgress();
        showSubjects(currentSemester);
        updateSemesterProgressBar(currentSemester);


        // Search functionality
        document.getElementById('search-bar').addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('#subject-list .card');
            cards.forEach(card => {
                if (card.textContent.toLowerCase().includes(query)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Quiz functionality
        const quizQuestions = [
            {
                question: "What is covered in Applied Calculus (MA25C01)?",
                options: ["Only Differential Calculus", "Calculus, Differential Equations, and Linear Algebra", "Only Integral Calculus", "Basic Electronics"],
                correct: 1
            },
            {
                question: "Which skill is NOT a primary focus of English Essentials – I (EN25C01)?",
                options: ["Speaking Skills", "Listening Skills", "Advanced Programming", "Reading Skills"],
                correct: 2
            },
            {
                question: "What is a key objective of Basic Electronics and Electrical Engineering (EE25C04)?",
                options: ["To teach advanced quantum physics", "To understand fundamentals of electronics and electrical systems", "To develop web applications", "To analyze ancient history"],
                correct: 1
            },
            {
                question: "Applied Physics – I (PH25C01) aims to expose essentials of physics in what context?",
                options: ["Culinary arts", "Engineering applications", "Fine arts", "Social sciences"],
                correct: 1
            },
            {
                question: "Which topic is part of Applied Chemistry – I (CY25C01)?",
                options: ["Astrophysics", "Water Technology", "Literary Analysis", "Economic Theory"],
                correct: 1
            }
        ];
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedOptionIndex = -1; // To track selected option for current question

        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const nextButton = document.getElementById('next-btn');
        const quizScoreElement = document.getElementById('quiz-score');
        const restartQuizButton = document.getElementById('restart-quiz');

        function loadQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            questionElement.textContent = question.question;
            optionsElement.innerHTML = '';
            selectedOptionIndex = -1; // Reset selected option for new question

            question.options.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.textContent = option;
                btn.className = 'quiz-option block w-full p-2 border rounded text-left';
                btn.onclick = () => selectOption(index, question.correct, btn);
                optionsElement.appendChild(btn);
            });
            nextButton.style.display = 'none';
            quizScoreElement.textContent = ''; // Clear score display during quiz
            restartQuizButton.style.display = 'none';
        }

        function selectOption(index, correct, button) {
            // Only allow selection if an option hasn't been selected yet for this question
            if (selectedOptionIndex === -1) {
                selectedOptionIndex = index;
                // Remove 'selected' class from all options and add to the clicked one
                Array.from(optionsElement.children).forEach(btn => {
                    btn.classList.remove('selected');
                    btn.style.backgroundColor = ''; // Reset background
                    btn.style.color = ''; // Reset color
                });
                button.classList.add('selected');

                // Provide immediate feedback
                if (index === correct) {
                    button.style.backgroundColor = '#10B981'; // Green for correct
                    button.style.color = 'white';
                } else {
                    button.style.backgroundColor = '#EF4444'; // Red for incorrect
                    button.style.color = 'white';
                    // Highlight correct answer
                    Array.from(optionsElement.children)[correct].style.backgroundColor = '#10B981';
                    Array.from(optionsElement.children)[correct].style.color = 'white';
                }
                nextButton.style.display = 'block';
            }
        }

        nextButton.addEventListener('click', () => {
            if (selectedOptionIndex !== -1) { // Only proceed if an option was selected
                if (selectedOptionIndex === quizQuestions[currentQuestionIndex].correct) {
                    score++;
                }
                currentQuestionIndex++;
                if (currentQuestionIndex < quizQuestions.length) {
                    loadQuestion();
                } else {
                    questionElement.textContent = `Quiz complete!`;
                    optionsElement.innerHTML = '';
                    quizScoreElement.textContent = `Your score: ${score}/${quizQuestions.length}`;
                    nextButton.style.display = 'none';
                    restartQuizButton.style.display = 'block';
                }
            } else {
                alert("Please select an option before proceeding!");
            }
        });

        restartQuizButton.addEventListener('click', () => {
            currentQuestionIndex = 0;
            score = 0;
            loadQuestion();
        });

        loadQuestion(); // Initial load of the first quiz question

        // Download resources (simulated)
        function downloadResource(type) {
            alert(`Downloading ${type} PDF... (Simulated function - in real app, trigger actual download)`);
        }

        // Contact form submission
        document.getElementById('contact-form').addEventListener('submit', (e) => {
            e.preventDefault();
            document.getElementById('form-message').textContent = 'Thanks for your message! We will respond soon.';
            document.getElementById('contact-form').reset(); // Clear form
        });

        // Feedback button
        document.getElementById('feedback-btn').addEventListener('click', () => {
            alert('Feedback submitted! (Simulated)');
        });

        // Add fade-in animation to sections on load
        document.querySelectorAll('.fade-in').forEach(el => el.classList.add('fade-in'));
    </script>
</body>
</html>